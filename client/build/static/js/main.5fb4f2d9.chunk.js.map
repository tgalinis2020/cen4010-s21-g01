{"version":3,"sources":["utils/apiRequest.js","utils/convertDateTime.js","utils/formatDate.js","context/SessionContext.js","Models/Base.js","Models/User.js","utils/getPosts.js","utils/debouce.js","pages/dashboard/ExplorePage.jsx","components/CommentForm.jsx","components/BackButton.jsx","components/Comment.jsx","pages/PostPage.jsx","pages/dashboard/SubscriptionsPage.jsx","pages/dashboard/FavoritesPage.jsx","utils/uploadImage.js","hooks/useValidators.js","pages/settings/AccountPage.jsx","pages/settings/PetsPage.jsx","pages/SettingsPage.jsx","utils/convertToJsonOrThrowError.js","pages/SignInPage.jsx","pages/SignUpPage.jsx","Models/Tag.js","Models/Post.js","pages/CreatePostPage.jsx","Main.jsx","index.jsx"],"names":["apiRequest","method","target","data","url","init","headers","includes","JSON","stringify","fetch","convertDateTime","datetime","split","datePart","timePart","year","month","date","hours","minutes","seconds","Date","UTC","DAYS","MONTHS","formatDate","fromDB","getDay","getMonth","getDate","getFullYear","SessionContext","createContext","Base","obj","this","id","attributes","dirtyAttributes","relationships","attr","val","push","type","a","payload","console","log","then","res","json","relationship","objs","updateRelationship","map","toResourceIdentifier","User","password","hydrate","current","username","getAttribute","pet","updateToManyRelationship","post","getPosts","additionalParams","params","join","included","items","related","author","tags","image","title","text","createdAt","find","filter","tag","debounce","time","callback","override","undefined","active","timeout","args","handler","apply","window","clearTimeout","setTimeout","ExplorePage","useContext","session","useState","posts","setPosts","searchMode","setSearchMode","history","useHistory","handleSearch","value","filterParam","key","useEffect","Form","Group","Control","placeholder","onChange","ButtonGroup","className","Button","onClick","icon","faPlus","Row","i","Col","xs","sm","md","Card","to","Img","src","Body","Title","Text","length","variant","CommentForm","onSubmitted","setText","as","user","catch","BackButton","style","cursor","faArrowCircleLeft","size","replace","Comment","avatar","width","height","borderRadius","border","alt","faUserCircle","Media","PostPage","useParams","setPost","comments","setComments","getComments","pets","ListGroup","Item","faPaw","name","comment","faSpinner","pulse","SubscriptionsPage","FavoritesPage","uploadImage","file","body","FormData","append","useValidators","validators","initialState","Object","keys","dirty","error","fields","setFields","get","field","isInvalid","getError","set","reduce","c","e","Promise","resolve","prev","getValidity","all","fn","allValid","valid","AccountPage","setAvatar","checkEmpty","newPassword","noValidate","Label","column","Feedback","span","offset","updatePassword","alert","code","File","custom","label","files","item","setAttribute","update","PetsPage","setPets","petName","createPet","promise","img","SettingsPage","useRouteMatch","path","page","setPage","goToPage","p","charAt","toUpperCase","substr","exact","convertToJsonOrThrowError","status","SignInPage","setSession","setUsername","setPassword","debounced","setter","uid","subscriptions","SignUpPage","onSignedUp","checkExists","pop","firstName","lastName","email","create","Tag","Post","tagmap","hydratedTags","resource","newTags","r","concat","CreatePostPage","onPostCreated","setTitle","setFile","setTags","loading","setLoading","isChecked","Check","defaultChecked","index","plaintext","readOnly","defaultValue","tagList","t","trim","toLowerCase","petList","Anonymous","Nav","NavDropdown","faSignInAlt","faUser","Authenticated","ItemText","Divider","Link","faCog","faSignOutAlt","Dashboard","Main","mock","sessionState","err","Provider","basename","Navbar","bg","expand","Container","Brand","faBone","Toggle","aria-controls","Collapse","onSignedIn","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5fb4f2d9.chunk.js","sourcesContent":["function apiRequest(method, target, data = null) {\n    const url = `https://lamp.cse.fau.edu/~cen4010_s21_g01/api-v1.php${target}`\n    const init = {\n        method,\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept':       'application/json',\n        }\n    }\n\n    if (['POST', 'PUT', 'PATCH'].includes(method)) {\n        init['body'] = JSON.stringify({ data })\n    }\n\n    return fetch(url, init)\n}\n\nexport default apiRequest\n","/**\n * In MySQL, the DATETIME data type returns dates using the \"YYYY-MM-DD HH:II:SS\"\n * format.\n * \n * Also worth noting that dates are stored relative to UTC.\n * \n * @param {string} datetimeString\n * @returns {Date} A Date object initialized using provided string.\n */\nfunction convertDateTime(datetime) {\n    const [datePart, timePart] = datetime.split(' ')\n    const [year, month, date] = datePart.split('-')\n    const [hours, minutes, seconds] = timePart.split(':')\n\n    // Note: months start at zero, so Jan = 0, Feb = 1, and so on.\n    return new Date(Date.UTC(year, month - 1, date, hours, minutes, seconds))\n}\n\nexport default convertDateTime\n","import convertDateTime from './convertDateTime'\n\nconst DAYS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\nconst MONTHS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n                'Oct', 'Nov', 'Dec']\n\nfunction formatDate(fromDB) {\n    const date = convertDateTime(fromDB)\n\n    return `${DAYS[date.getDay()]}, ${MONTHS[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`\n}\n\nexport default formatDate","import { createContext } from 'react'\n\nconst SessionContext = createContext()\n\nexport default SessionContext","import apiRequest from '../utils/apiRequest'\n\nexport default class Base\n{\n    constructor(obj = {}) {\n        this.id = obj.id || null\n        this.attributes = obj.attributes || {}\n        this.dirtyAttributes = []\n        this.relationships = obj.relationships || {}\n    }\n\n    // Child classes must override this method!\n    get type() {\n        return 'generic'\n    }\n\n    hydrate(obj) {\n        this.id = obj.id || null\n        this.attributes = obj.attributes || {}\n        this.relationships = obj.relationships || {}\n\n        return this\n    }\n\n    setAttribute(attr, val) {\n        this.dirtyAttributes.push(attr)\n        this.attributes[attr] = val\n\n        return this\n    }\n\n    getAttribute(attr) {\n        return this.attributes[attr]\n    }\n\n    toResourceIdentifier() {\n        return {\n            type: this.type,\n            id:   this.id,\n        }\n    }\n\n    toResource() {\n        return {\n            type:       this.type,\n            id:         this.id,\n            attributes: this.attributes,\n        }\n    }\n\n    create(relationships = null) {\n        const attributes = {}\n\n        for (const a of this.dirtyAttributes) {\n            attributes[a] = this.attributes[a]\n        }\n\n        const payload = { type: this.type, attributes }\n\n        if (relationships !== null) {\n            payload['relationships'] = relationships\n        }\n\n        console.log(payload)\n\n        return apiRequest('POST', `/${this.type}`, payload)\n            .then(res => {\n                this.dirtyAttributes = []\n\n                return res.json()\n            })\n            .then(res => res.data)\n    }\n\n    update() {\n        const attributes = {}\n\n        for (const a of this.dirtyAttributes) {\n            attributes[a] = this.attributes[a]\n        }\n\n        const payload = { type: this.type, id: this.id, attributes }\n\n        return apiRequest('PATCH', `/${this.type}/${this.id}`, payload)\n            .then(() => {\n                this.dirtyAttributes = []\n\n                return this\n            })\n    }\n\n    delete() {\n        return apiRequest('DELETE', `/${this.type}/${this.id}`);\n    }\n\n    updateRelationship(method, relationship, payload) {\n        return apiRequest(\n            method,\n            `/${this.type}/${this.id}/relationships/${relationship}`,\n            payload\n        )\n    }\n\n    updateToManyRelationship(method, relationship, objs) {\n        return this.updateRelationship(\n            method,\n            relationship,\n            objs.map(obj => obj.toResourceIdentifier())\n        )\n    }\n\n    updateToOneRelationship(method, relationship, obj) {\n        return this.updateRelationship(\n            method,\n            relationship,\n            obj.toResourceIdentifier()\n        )\n    }\n}","import Base from './Base'\nimport apiRequest from '../utils/apiRequest'\n\nexport default class User extends Base\n{\n    get type() {\n        return 'users'\n    }\n\n    /**\n     * Creating users is a two-step process: a resource must be created and\n     * their password must be set immediately afterward.\n     * \n     * @param {string}   password\n     */\n    create(password) {\n        const type = this.type\n        const attributes = {}\n\n        for (const attr of this.dirtyAttributes) {\n            attributes[attr] = this.attributes[attr]\n        }\n\n        return apiRequest('POST', `/${type}`, { type, attributes })\n            .then(res => res.json())\n            .then(({ data }) => {\n                this.hydrate(data)\n                return apiRequest('PUT', `/passwords/${data.id}`, password)\n            }).then(res => this)\n    }\n\n    updatePassword(current, password) {\n        return apiRequest('PATCH', `/passwords/${this.id}`, { current, password })\n    }\n\n    login(password) {\n        return apiRequest('POST', '/session', {\n            username: this.getAttribute('username'),\n            password\n        })\n    }\n\n    logout() {\n        return apiRequest('DELETE', '/session')\n    }\n\n    subscribeTo(pet) {\n        return this.updateToManyRelationship('POST', 'subscriptions', [pet])\n    }\n\n    unsubscribeFrom(pet) {\n        return this.updateToManyRelationship('DELETE', 'subscriptions', [pet])\n    }\n\n    addFavorite(post) {\n        return this.updateToManyRelationship('POST', 'favorites', [post])\n    }\n\n    removeFavorite(post) {\n        return this.updateToManyRelationship('DELETE', 'favorites', [post])\n    }\n\n    like(post) {\n        return this.updateToManyRelationship('POST', 'liked-posts', [post])\n    }\n\n    unlike(post) {\n        return this.updateToManyRelationship('DELETE', 'liked-posts', [post])\n    }\n}","import apiRequest from './apiRequest'\nimport formatDate from './formatDate'\n\n/**\n * Since both the explore and subscriptions pages hit the same endpoint but\n * with different parameters, it was worth abstracting shared logic into its\n * own utility function.\n * \n * @param {string[]} additionalParams \n * @returns Promise containing returned posts with their authors and tags.\n */\nfunction getPosts(additionalParams = []) {\n    const params = [\n        'include=author,tags',\n        'fields[users]=username',\n        'sort=-createdAt',\n        ...additionalParams,\n    ]\n\n    return apiRequest('GET', `/posts?${params.join('&')}`)\n        .then((res) => res.json())\n        .then((res) => res.data)\n        .then(({ data, included }) => {\n            const items = []\n\n            for (const { id, attributes, relationships } of data) {\n                \n                // TODO:    Pets and likes should be here as well but they are\n                //          not represented in the front-end yet.\n                // Note that some relationships might not be available, such as\n                // tags.\n                const related = {\n                    author: relationships.author.data.id,\n                    tags: 'tags' in relationships ? relationships.tags.data.map(({ id }) => id) : [],\n                }\n\n                items.push({\n                    id,\n                    image: attributes.image,\n                    title: attributes.title,\n                    text: attributes.text,\n                    createdAt: formatDate(attributes.createdAt),\n\n                    // Posts MUST have an author so it should be safe to assume\n                    // that the find method returns a resource object of\n                    // type \"users\".\n                    author: included\n                        .find(({ type, id }) => type === 'users' && id === related.author)\n                        .attributes\n                        .username,\n\n                    tags: included\n                        .filter(({ type, id }) => type === 'tags' && related.tags.includes(id))\n                        .map(tag => tag.attributes.text),\n                })\n            }\n\n            return items\n        })\n}\n\nexport default getPosts","// A decorator function that runs the callback only when a certain\n// amount of time has passed since the last time the function was invoked.\n//\n// Inspired by the following implementation by David Walsh:\n// https://davidwalsh.name/javascript-debounce-function\nfunction debounce(time, callback, override = undefined) {\n    let active = false\n    let timeout = null\n\n    return function (...args) {\n        // Run the following after the timeout is complete.\n        //\n        // A nice quirk of arrow functions is that they have no \"this\",\n        // so one can reference the parent context without setting it to\n        // another variable. Before arrow functions were introduced,\n        // it was common to do \"var self = this\" to reference the parent\n        // function's context.\n        const handler = () => {\n            callback.apply(this, args)\n            active = false\n        }\n\n        active && window.clearTimeout(timeout)\n\n        // If override condition is set, ignore debouncing behavior.\n        if (typeof override === 'function' && override.apply(this, args)) {\n            handler()\n        } else {\n            timeout = window.setTimeout(handler, time)\n            active = true\n        }\n    }\n}\n\nexport default debounce\n","import { useEffect, useState, useContext } from 'react'\n\nimport { Link, useHistory } from 'react-router-dom'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\n\nimport SessionContext from '../../context/SessionContext'\nimport getPosts from '../../utils/getPosts'\nimport debounce from '../../utils/debouce'\n\nfunction ExplorePage() {\n    const [session, setSession] = useContext(SessionContext)\n    const [posts, setPosts] = useState([])\n    //const [moreAvailable, setMoreAvailable] = useState(true)\n    const [searchMode, setSearchMode] = useState(false)\n    const history = useHistory()\n\n    //const addPosts = (newPosts) => setPosts((oldPosts) => oldPosts.concat(newPosts))\n\n    const goToCreatePost = () => history.push('/post')\n    \n    //const seeMorePosts = () => {}\n\n    const handleSearch = debounce(\n        1000, // Wait for one second before doing anything.\n\n        ({ target }) => {\n\n            if (target.value === '') {\n\n                if (searchMode) {    \n\n                    setSearchMode(false)\n\n                    getPosts().then(setPosts)\n\n                }\n\n            } else {\n\n                const filterParam = `filter[tags][in]=${target.value.split(' ').join(',')}`\n\n                setSearchMode(true)\n\n                getPosts([filterParam]).then(setPosts)\n\n            }\n\n        },\n\n        ({ key, target }) => key === 'Enter' || (key === 'Backspace' && target.value === '')\n    )\n    \n    useEffect(() => {\n        const params = []\n\n        // Anonymous users can only view the 10 latest posts.\n        if (session !== null) {\n            params.push('page[size]=10')\n        }\n\n        getPosts(params).then(setPosts)\n            /*.then((posts) => {\n                if (posts.length === 0) {\n                    setMoreAvailable(false)\n                }\n\n                return posts\n            })\n            .then(addPosts)*/\n        /*const item = {\n            id: '1',\n            image: 'https://i.imgur.com/uDCyg1E.jpeg',\n            title: 'Doggo',\n            text: 'Cute doggy :)',\n            createdAt: formatDate('2021-04-11 12:30:00'),\n\n            // Posts MUST have an author so it should be safe to assume\n            // that the find method returns a resource object of\n            // type \"users\".\n            author: 'tgalinis2020',\n            tags: ['cute', 'dog', 'aww'],\n        }\n\n        const items = []\n\n        for (let i = 0; i < (session ? 24 : 10); ++i) {\n            items.push(item)\n        }\n\n        setPosts(items)*/\n    }, [setPosts, session])\n\n    return (\n        <>\n            {session && (\n                <Form>\n                    <Form.Group>\n                        <Form.Control\n                            type=\"text\"\n                            placeholder=\"Search for posts by tag...\"\n                            onChange={handleSearch} />\n                    </Form.Group>\n\n                    <ButtonGroup className=\"my-2\">\n                        <Button className=\"ml-auto\" onClick={goToCreatePost}>\n                            <FontAwesomeIcon className=\"mr-2\" icon={faPlus} />\n                            Create Post\n                        </Button>\n                    </ButtonGroup>\n                </Form>\n            )}\n\n            <Row>\n                {posts.map(({ id, image, title, author, text, createdAt, tags }, i) => (\n                    <Col key={i} xs={12} sm={6} md={4}>\n                        <Card className=\"my-4\">\n                            <Link to={`/post/${id}`}>\n                                <Card.Img src={image} />\n                            </Link>\n\n                            <Card.Body>\n                                <Card.Title>{title}</Card.Title>\n\n                                <Card.Text>\n                                    <small className=\"text-muted\">Posted by {author} on {createdAt}</small>\n                                    <p>{text}</p>\n                                    <p className=\"text-muted\">Tags: {tags.join(', ')}</p>\n                                </Card.Text>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                ))}\n            </Row>\n\n            {posts.length === 0 && (\n                <p>There are currently no posts.</p>\n            )}\n\n            {session === null && (\n                <div className=\"my-4 text-center\">\n                    <p>You must be logged in to see more posts. <Button variant=\"primary\" onClick={() => history.push('/signin')}>Sign in</Button></p>\n                    <p>Don't have an account? <Button variant=\"primary\" onClick={() => history.push('/signup')}>Sign up</Button></p>\n                </div>\n            )}\n\n            {/*moreAvailable && (\n                <ButtonGroup className=\"d-block text-center my-4\">\n                    <Button onClick={seeMorePosts}>See More</Button>\n                </ButtonGroup>\n            )*/}\n        </>\n    )\n}\n\nexport default ExplorePage","import { useState } from 'react'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport apiRequest from '../utils/apiRequest'\nimport { faPlus } from '@fortawesome/free-solid-svg-icons'\n\nfunction CommentForm({ post, session, onSubmitted }) {\n    const [text, setText] = useState('')\n    \n    const submit = () => apiRequest('POST', '/comments', {\n            type: 'comments',\n            attributes: { text },\n            relationships: {\n                author: {\n                    data: { type: 'users', id: session.user.id }\n                },\n\n                post: {\n                    data: { type: 'posts', id: post.id }\n                }\n            }\n        })\n        .then((res) => res.json())\n        .then((res) => res.data)\n        .then(onSubmitted)\n        .then(() => setText(''))\n        .catch(console.log)\n\n    return (\n        <Form>\n            <Form.Group>\n                <Form.Control as=\"textarea\" onChange={({ target }) => setText(target.value)}></Form.Control>\n            </Form.Group>\n\n            <Form.Group>\n                <Button variant=\"primary\" onClick={submit}>\n                    <FontAwesomeIcon className=\"mr-2\" icon={faPlus} />\n                    Add Comment\n                </Button>\n            </Form.Group>\n        </Form>\n    )\n}\n\nexport default CommentForm","import { useHistory } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faArrowCircleLeft } from '@fortawesome/free-solid-svg-icons'\n\nfunction BackButton() {\n    const history = useHistory()\n\n    return (\n        <FontAwesomeIcon\n            style={{ cursor: \"pointer\" }}\n            className=\"mr-3\"\n            icon={faArrowCircleLeft}\n            size=\"1x\"\n            onClick={() => history.replace('/dashboard')} />\n    )\n}\n\nexport default BackButton","import Media from 'react-bootstrap/Media'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faUserCircle } from '@fortawesome/free-solid-svg-icons'\n\nfunction Comment({ text, createdAt, author }) {\n    const commentStyles = {\n        width: '64px',\n        height: '64px',\n        borderRadius: '50%',\n        border: '1px solid #ccc' \n    }\n    \n    const image = author.avatar\n        ? <img style={commentStyles} className=\"mr-3\" src={author.avatar} alt={author.username} />\n        : <FontAwesomeIcon className=\"mr-3\" size=\"3x\" icon={faUserCircle} />\n\n    return (\n        <Media>\n            {image}\n\n            <Media.Body>\n                <small className=\"text-muted\">Posted by {author} on {createdAt}</small>\n                <p>{text}</p>\n            </Media.Body>\n        </Media>\n    )\n}\n\nexport default Comment","import { useState, useEffect, useContext } from 'react'\nimport { useHistory, useParams, useRouteMatch } from 'react-router-dom'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Card from 'react-bootstrap/Card'\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport Media from 'react-bootstrap/Media'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport FormGroup from 'react-bootstrap/esm/FormGroup'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart, faPaw, faPlus, faSpinner } from '@fortawesome/free-solid-svg-icons'\n\nimport formatDate from '../utils/formatDate'\nimport apiRequest from '../utils/apiRequest'\n\nimport CommentForm from '../components/CommentForm'\nimport BackButton from '../components/BackButton'\nimport Comment from '../components/Comment'\nimport SessionContext from '../context/SessionContext'\n\nfunction PostPage() {\n    const [session] = useContext(SessionContext)\n    const { id } = useParams()\n    \n    //*\n    const defaultPost = null\n    const defaultComments = []\n    /*/\n    const defaultPost = {\n        id: '1',\n        image: 'https://i.imgur.com/uDCyg1E.jpeg',\n        title: 'Doggo',\n        text: 'Cute doggy :)',\n        createdAt: formatDate('2021-04-11 12:30:00'),\n        author: 'tgalinis2020',\n        tags: ['cute', 'dog', 'aww'],\n        pets: [{ id: '1', name: 'Mr. Meow', avatar: null }, { id: '2', name: 'Bean', avatar: null }],\n    }\n\n    const defaultComments = [\n        {\n            text: 'Aww, such a good boi!',\n            createdAt: formatDate('2021-04-12 06:00:23'),\n            author: 'blahblah123',\n        },\n\n        {\n            text: 'Precious.',\n            createdAt: formatDate('2021-04-12 08:21:42'),\n            author: 'ilovepets99',\n        }\n    ]\n    //*/\n    const [post, setPost] = useState(defaultPost)\n    const [comments, setComments] = useState(defaultComments)\n    //const [commentsAvailable, setCommentsAvailable] = useState(true)\n\n    // Since included data cannot be paginated and sorted, two separate requests\n    // are made for getting posts and comments.\n    const getPost = () => apiRequest('GET', `/posts/${id}?include=author,tags,pets&fields[users]=username`)\n        .then((res) => res.json())\n        .then((res) => res.data)\n        .then(({ data, included }) => {\n            const { id, attributes, relationships } = data\n            const { image, title, text, createdAt } = attributes\n            \n            const related = {\n                author: relationships.author.data.id,\n            }\n\n            // Pluck the IDs from to-many relationships, if applicable.\n            for (const key in ['tags', 'pets', 'likes']) {\n                related[key] = key in relationships ? relationships[key].data.map(({ id }) => id) : []\n            }\n\n            return {\n                id,\n                image,\n                title,\n                text,\n                createdAt: formatDate(createdAt),\n\n                author: included\n                    .find(obj => obj.type === 'users' && obj.id === related.author)\n                    .attributes\n                    .username,\n\n                tags: included\n                    .filter(obj => obj.type === 'tags' && related.tags.includes(obj.id))\n                    .map(tag => `#${tag.attributes.text}`),\n\n                pets: included\n                    .filter((obj) => obj.type === 'pets' && related.pets.includes(obj.id)),\n            }\n        })\n        .then(setPost)\n\n    const getComments = () => apiRequest('GET', `/posts/${id}/comments?include=author&fields[users]=username&sort=-createdAt`)\n        .then((res) => res.json())\n        .then((res) => res.data)\n        .then(({ data, included }) => data.map(({ id, attributes, relationships }) => {\n            const author = included\n                .find(user => user.id === relationships.author.data.id)\n\n            return {\n                id,\n                text: attributes.text,\n                createdAt: attributes.createdAt,\n                author: author.attributes.username\n            }\n        }))\n        .then(setComments)\n\n    useEffect(() => getPost().then(getComments), [setPost, setComments])\n\n    return (\n        <>\n            <h1><BackButton />{post.title}</h1>\n\n            {post ? (\n                <>\n                    <Card className=\"my-4\">\n                        <Card.Img src={post.image} />\n\n                        <Card.Body>\n                            <Card.Text>\n                                <small className=\"text-muted\">Posted by {post.author} on {post.createdAt}</small>\n                                \n                                <p>{post.text}</p>\n                                \n                                {post.pets.length > 0 && (\n                                    <div className=\"my-3\">\n                                        <p className=\"text-muted\">{post.author}'s pets in this post:</p>\n\n                                        <ListGroup>\n                                            {post.pets.map((pet, i) => (\n                                                <ListGroup.Item key={i}>\n                                                    <Media>\n                                                        {pet.avatar === null ? (\n                                                            <FontAwesomeIcon icon={faPaw} size=\"2x\" className=\"d-block mr-3\" />\n                                                        ) : (\n                                                            <img\n                                                                style={{ width: '64px', height: '64px', borderRadius: '50%' }}\n                                                                src={pet.avatar}\n                                                                className=\"mr-3\"\n                                                            />\n                                                        )}\n                                                        <Media.Body>\n                                                            {pet.name}\n\n                                                            {/*<Button className=\"d-block float-right\" variant=\"success\">Subscribe</Button>*/}\n                                                        </Media.Body>\n                                                    </Media>\n                                                </ListGroup.Item>\n                                            ))}\n                                        </ListGroup>\n                                    </div>\n                                )}\n\n                                <p className=\"text-muted\">Tags: {post.tags.join(', ')}</p>\n                            </Card.Text>\n                        </Card.Body>\n                    </Card>\n\n                    \n                    {session && <CommentForm session={session} post={post} onSubmitted={getComments} />}\n\n                    <hr />\n\n                    <h3 className=\"mb-4\">Comments ({comments.length})</h3>\n\n                    {comments.length > 0 ? (\n                        comments.map((comment, i) => <Comment key={i} {...comment} />)\n                    ) : (\n                        <p>No comments available.</p>\n                    )}\n                </>\n            ) : (\n                <p className=\"text-center my-4\"><FontAwesomeIcon icon={faSpinner} size=\"3x\" pulse /></p>\n            )}\n        </>\n    )\n}\n\nexport default PostPage","function SubscriptionsPage() {\n    return (\n        <h1>Subscriptions</h1>\n    )\n}\n\nexport default SubscriptionsPage","function FavoritesPage() {\n    return (\n        <h1>Favorites</h1>\n    )\n}\n\nexport default FavoritesPage","function uploadImage(file) {\n    const url = `https://lamp.cse.fau.edu/~cen4010_s21_g01/api-v1.php/upload`\n    const body = new FormData()\n\n    body.append('data', file, file.name)\n\n    return fetch(url, { method: 'POST', body })\n}\n\nexport default uploadImage\n","import { useState } from 'react'\n\nimport debounce from '../utils/debouce'\n\n/**\n * A custom hook to ease the form validation process.\n * \n * Validators is an object where the key corresponds to a form field\n * and the value is an array of validation functions.\n * \n * Each validation function must be return a promise that returns\n * a validation message. If the validation message is null, the field is\n * considered valid.\n * \n * Although it may be inconvenient, promises are used because some validation\n * strategies involve HTTP requests (e.g. checking if a username already exists).\n * For validation that is immediately resolved, return the error message using\n * Promise.resolve.\n */\n function useValidators(validators) {\n    const initialState = {}\n\n    for (const field of Object.keys(validators)) {\n        initialState[field] = { value: '', dirty: false, error: null }\n    }\n\n    const [fields, setFields] = useState(initialState)\n\n    return {\n        get: (field) => fields[field],\n\n        isInvalid: (field) => fields[field].dirty && fields[field].error !== null,\n        \n        getError: (field) => fields[field].error,\n\n        set: (field) => debounce(\n            500,\n    \n            // Go through each validation function and stop the promise chain\n            // when an error is not null.\n            //\n            // Note: a === accumilated promise\n            //       c === current promise\n            //       e === error message\n            ({ target }) => validators[field]\n                .reduce((a, c) => a.then(e => e ?? c(target.value)), Promise.resolve(null))\n                .then((error) => {\n                    setFields((prev) => ({\n                        ...prev,\n                        [field]: { value: fields[field].value, dirty: true, error }\n                    }))\n    \n                    return error === null\n                })\n                .catch((error) => {\n                    setFields((prev) => ({\n                        ...prev,\n                        [field]: { value: fields[field].value, dirty: true, error: 'Invalid value.' }\n                    }))\n    \n                    return false\n                }),\n    \n            ({ key, target }) => key === 'Enter' || (key === 'Backspace' && target.value === '')\n        ),\n        \n        // This eyesore goes through all of the validators for each field\n        // and returns the overall state of the set of fields.\n        getValidity: () => Promise.all(Object.keys(fields).map((field) => (\n            validators[field]\n                .reduce((a, fn) => a.then((e) => e ?? fn(fields[field].value)), Promise.resolve(null))\n                .then((error) => {\n                    setFields((prev) => ({\n                        ...prev,\n                        [field]: { value: fields[field].value, dirty: true, error }\n                    }))\n    \n                    return error === null\n                })\n                .catch((error) => {\n                    setFields((prev) => ({\n                        ...prev,\n                        [field]: { value: fields[field].value, dirty: true, error: 'Invalid value.' }\n                    }))\n    \n                    return false\n                })\n        ))).then((res) => res.reduce((allValid, valid) => allValid && valid, true))\n    }\n}\n\nexport default useValidators","import { useContext, useState } from 'react'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nimport debounce from '../../utils/debouce'\nimport apiRequest from '../../utils/apiRequest'\nimport uploadImage from '../../utils/uploadImage'\nimport useValidators from '../../hooks/useValidators'\nimport SessionContext from '../../context/SessionContext'\n\nfunction AccountPage() {\n    const [session] = useContext(SessionContext)\n    const [avatar, setAvatar] = useState(null)\n\n    const checkEmpty = (field) => (value) => Promise\n        .resolve(value === '' ? `${field} cannot be empty.` : null)\n\n    const checkMatchesPassword = (value) => Promise\n        .resolve(value === fields.password.value ? null : 'Passwords do not match')\n\n    const fields = useValidators({\n        password: [\n            checkEmpty('Password'),\n        ],\n\n        newPassword: [\n            checkEmpty('New password'),\n            checkMatchesPassword,\n        ],\n    })\n\n    const updatePassword = () => session.user\n        .updatePassword(fields.get('password'), fields.get('newPassword'))\n        .then((res) => {\n            window.alert(res.code === 204\n                ? 'Password updated!'\n                : 'An error occured while attempting to update your password.'\n            )\n        })\n\n    const updateAvatar = () => uploadImage(avatar)\n        .then((res) => res.json())\n        .then((res) => res.data)\n        .then((url) => session.user.setAttribute('image', url))\n        .then((user) => user.update())\n        .then(() => window.alert('Avatar updated!'))\n\n    return (\n        <>\n            <Form noValidate>\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Current Password</Form.Label>\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('password')}\n                            type=\"password\"\n                            placeholder=\"Current password\"\n                            onChange={fields.set('password')} />\n                        \n                        {fields.isInvalid('password') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('password')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>New Password</Form.Label>\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('newPassword')}\n                            type=\"password\"\n                            placeholder=\"New password\"\n                            onChange={fields.set('newPassword')} />\n                        \n                        {fields.isInvalid('newPassword') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('newPassword')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Col sm={{ span: 10, offset: 2 }}>\n                        <Button variant=\"primary\" onClick={updatePassword}>Update Password</Button>\n                    </Col>\n                </Form.Group>\n            </Form>\n\n            <hr />\n\n            <Form noValidate>\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Avatar</Form.Label>\n                    <Col sm={10}>\n                        <Form.File\n                            custom\n                            label=\"Upload an image\"\n                            onChange={({ target }) => setAvatar(target.files.item(0))} />\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Col sm={{ span: 10, offset: 2 }}>\n                        <Button variant=\"primary\" onClick={updateAvatar}>Update Avatar</Button>\n                    </Col>\n                </Form.Group>\n            </Form>\n        </>\n    )\n}\n\nexport default AccountPage","import { useContext, useEffect, useState } from 'react'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Media from 'react-bootstrap/Media'\nimport ListGroup from 'react-bootstrap/ListGroup'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPaw } from '@fortawesome/free-solid-svg-icons'\n\nimport apiRequest from '../../utils/apiRequest'\nimport uploadImage from '../../utils/uploadImage'\nimport SessionContext from '../../context/SessionContext'\nimport useValidators from '../../hooks/useValidators'\n\nfunction PetsPage() {\n    const [session] = useContext(SessionContext)\n    const [avatar, setAvatar] = useState(null)\n    const [pets, setPets] = useState([])\n\n    const checkEmpty = (field) => (value) => Promise\n        .resolve(value === '' ? `${field} cannot be empty.` : null)\n\n    const checkNotExists = (value) => Promise\n        .resolve(pets.includes(value) ? `You already have a pet named \"${value}.\"` : null)\n        \n    const fields = useValidators({\n        petName: [\n            checkEmpty('Pet name'),\n            checkNotExists,\n        ]\n    })\n\n    const createResource = (image) => ({\n        type: 'pets',\n\n        attributes: {\n            name: fields.get('petName'),\n            avatar: image,\n        },\n        \n        relationships: {\n            author: {\n                data: { type: 'users', id: session.user.id }\n            }\n        }\n    })\n\n    const createPet = () => {\n        const promise = Promise.resolve(null)\n\n        if (avatar !== null) {\n            promise\n                .then(() => uploadImage(avatar))\n                .then((res) => res.json())\n                .then((res) => res.data)\n        }\n\n        return promise\n            .then((img) => apiRequest('POST', '/pets', createResource(img)))\n            .then((res) => res.json())\n            .then((res) => res.data)\n            .then(({ id, attributes }) =>\n                setPets((pets) => ([...pets, {\n                    id,\n                    name: attributes.name,\n                    avatar: attributes.avatar,\n                }]))\n            )\n    }\n\n    const handleAddPet = () => fields.getValidity()\n        .then((valid) => (valid && createPet()))\n\n    const getPets = () => apiRequest('GET', `/users/${session.user.id}/pets`)\n        .then((res) => res.json())\n        .then((res) => res.data)\n        .then((items) => items.map(({ id, attributes }) => ({\n            id,\n            name: attributes.name,\n            avatar: attributes.avatar\n        })))\n\n    useEffect(() => {\n       getPets().then(setPets)\n    }, [setPets])\n\n    return (\n        <>\n            <Form noValidate>\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Pet Name</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('petName')}\n                            type=\"text\"\n                            placeholder=\"Enter you pet's name\"\n                            onChange={fields.set('petName')} />\n                        \n                        {fields.isInvalid('petName') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('petName')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Pet Avatar</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.File\n                            placeholder=\"Upload an image\"\n                            onChange={({ target }) => setAvatar(target.files.item(0))} />\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Col sm={{ span: 10, offset: 2 }}>\n                        <Button variant=\"primary\" onClick={handleAddPet}>Add Pet</Button>\n                    </Col>\n                </Form.Group>\n            </Form>\n\n            <hr />\n\n            <h3>Pets</h3>\n\n            {pets.length > 0 ? (\n                <ListGroup>\n                    {pets.map((pet, i) => (\n                        <ListGroup.Item key={i}>\n                            <Media>\n                                {pet.avatar === null ? (\n                                    <FontAwesomeIcon icon={faPaw} size=\"2x\" className=\"d-block mr-3\" />\n                                ) : (\n                                    <img\n                                        style={{ width: '64px', height: '64px', borderRadius: '50%' }}\n                                        src={pet.avatar}\n                                        className=\"mr-3\"\n                                    />\n                                )}\n                                <Media.Body>\n                                    {pet.name}\n\n                                    {/*<Button className=\"d-block float-right\" variant=\"success\">Subscribe</Button>*/}\n                                </Media.Body>\n                            </Media>\n                        </ListGroup.Item>\n                    ))}\n                </ListGroup>\n            ) : (\n                <p>You have no pets!</p>\n            )}\n        </>\n    )\n}\n\nexport default PetsPage","import { useContext, useState } from 'react'\nimport { Switch, Route, Redirect, useRouteMatch, useHistory } from 'react-router-dom'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Nav from 'react-bootstrap/Nav'\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\nimport BackButton from '../components/BackButton'\n\nimport AccountPage from './settings/AccountPage'\nimport PetsPage from './settings/PetsPage'\n\nfunction SettingsPage() {\n    const { url, path } = useRouteMatch()\n    const history = useHistory()\n    const pages = ['account', 'pets'/*, 'subscriptions'*/]\n    const [page, setPage] = useState('account')\n    const goToPage = p => () => {\n        setPage(p)\n        history.replace(`${url}/${p}`)\n    }\n\n    return (\n        <>\n            <h1><BackButton />Settings</h1>\n\n            <ButtonGroup className=\"d-flex my-4\">\n                {pages.map((p, i) => (\n                    <Button\n                        key={i}\n                        variant={p === page ? 'primary' : 'secondary'}\n                        onClick={goToPage(p)}>{`${p.charAt(0).toUpperCase()}${p.substr(1)}`}</Button>\n                ))}\n            </ButtonGroup>\n\n            <Switch>\n                <Route path={`${path}/account`}>\n                    <AccountPage />\n                </Route>\n\n                <Route path={`${path}/pets`}>\n                    <PetsPage />\n                </Route>\n\n                <Route path={`${path}/subscriptions`}>\n                    <p>Manage Subscriptions</p>\n                </Route>\n\n                <Route exact path={`${path}`}>\n                    <Redirect to={`${url}/account`} />\n                </Route>\n            </Switch>\n        </>\n    )\n}\n\nexport default SettingsPage","/**\n * If the response's status code does not match the one provided, the inner\n * function will throw an error.\n * \n * @param {number} status \n * @returns \n */\n function convertToJsonOrThrowError(status) {\n    return function (res) {\n        if (res.status !== status) {\n            throw res.status\n        }\n\n        return res.json()\n    }\n}\n\nexport default convertToJsonOrThrowError","import { useContext, useState } from 'react'\n\nimport Form from 'react-bootstrap/Form'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\n\nimport BackButton from '../components/BackButton'\n\nimport apiRequest from '../utils/apiRequest'\nimport debounce from '../utils/debouce'\nimport convertToJsonOrThrowError from '../utils/convertToJsonOrThrowError'\nimport User from '../Models/User'\nimport SessionContext from '../context/SessionContext'\n\nfunction SignInPage() {\n    const [session, setSession] = useContext(SessionContext)\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n\n    const login = () => apiRequest('POST', '/session', { username, password })\n        .then(convertToJsonOrThrowError(201))\n        .then((res) => res.data)\n        .then(({ uid }) => apiRequest('GET', `/users/${uid}?include=subscriptions`))\n        .then((res) => res.json())\n        .then((res) => res.data)\n        .then(({ data, included }) => ({\n            user: new User(data),\n            subscriptions: included.map(({ id }) => id),\n        }))\n        .then(setSession)\n        .catch((error) => {\n            // TODO: alerts don't look so nice, replace with something fancier\n            window.alert('Invalid username/password combination!')\n        })\n\n    const debounced = setter => debounce(\n        500,\n\n        ({ target }) => setter(target.value),\n\n        // Ignore debouncing when enter or backspace keys are pressed.\n        ({ key, target }) => key === 'Enter' || (key === 'Backspace' && target.value === '')\n    )\n\n    return (\n        <>\n            <h1 className=\"mb-4\"><BackButton />Sign In</h1>\n\n            <Form>\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Username</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter username\"\n                            onChange={debounced(setUsername)} />\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Password</Form.Label>\n                    <Col sm={10}>\n                        <Form.Control\n                            type=\"password\"\n                            placeholder=\"Enter password\"\n                            onChange={debounced(setPassword)} />\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Col sm={{ span: 10, offset: 2 }}>\n                        <Button variant=\"primary\" onClick={login}>Sign In</Button>\n                    </Col>\n                </Form.Group>\n            </Form>\n        </>\n    )\n}\n\nexport default SignInPage","import { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\nimport User from '../Models/User'\n\nimport apiRequest from '../utils/apiRequest'\nimport uploadImage from '../utils/uploadImage'\nimport useValidators from '../hooks/useValidators'\n\nimport BackButton from '../components/BackButton'\n\nfunction SignUpPage({ onSignedUp }) {\n    const [avatar, setAvatar] = useState(null)\n    const history = useHistory()\n    \n    const checkEmpty = (field = 'Value') => (value) => Promise\n        .resolve(value === '' ? `${field} cannot be empty.` : null)\n\n    const checkExists = (field, label = null) => (value) =>\n        apiRequest('GET', `/users?filter[${field}]=${value}`)\n            .then(res => res.json())\n            .then(\n                ({ data }) => typeof data.pop() === 'undefined'\n                    ? null \n                    : `Provided ${label || field} is already in use.`\n            )\n\n    const fields = useValidators({\n        username: [\n            checkEmpty('Username'),\n            checkExists('username'),\n        ],\n\n        password: [\n            checkEmpty('Password'),\n        ],\n\n        firstName: [\n            checkEmpty('First name'),\n        ],\n\n        lastName: [\n            checkEmpty('Last name'),\n        ],\n\n        email: [\n            checkEmpty('E-mail address'),\n            checkExists('email', 'e-mail address')\n        ],\n    })\n\n    const user = new User()\n\n    const handleSubmit = () => fields.getValidity()\n        .then((valid) => (valid && user\n            .setAttribute('firstName', fields.get('firstName'))\n            .setAttribute('lastName', fields.get('lastName'))\n            .setAttribute('email', fields.get('email'))\n            .setAttribute('username', fields.get('username'))\n            .create(fields.get('password'))\n            .then(() => {\n                const promise = apiRequest('POST', '/session', {\n                    username: fields.username.value,\n                    password: fields.password.value\n                })\n\n                if (avatar !== null) {\n                    promise\n                        .then(() => uploadImage(avatar))\n                        .then((res) => res.json())\n                        .then(({ data }) => user.setAttribute('avatar', data))\n                        .then((user) => user.update())\n                }\n\n                return promise\n            })\n            .then(onSignedUp)\n            .then(() => history.replace('/dashboard'))\n            .catch(console.log)\n        ))\n\n    return (\n        <>\n            <h1 className=\"mb-4\"><BackButton />Sign Up</h1>\n\n            <Form noValidate>\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>First Name</Form.Label>\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('firstName')}\n                            type=\"text\"\n                            placeholder=\"Enter first name\"\n                            onChange={fields.set('firstName')} />\n\n                        {fields.isInvalid('firstName') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('firstName')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Last Name</Form.Label>\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('lastName')}\n                            type=\"text\"\n                            placeholder=\"Enter last name\"\n                            onChange={fields.set('lastName')} />\n\n                        {fields.isInvalid('lastName') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('lastName')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>E-mail Address</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('email')}\n                            type=\"text\"\n                            placeholder=\"Enter e-mail address\"\n                            onChange={fields.set('email')} />\n\n                        {fields.isInvalid('email') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('email')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Username</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('username')}\n                            type=\"text\"\n                            placeholder=\"Enter username\"\n                            onChange={fields.set('username')} />\n\n                        {fields.isInvalid('username') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('username')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Password</Form.Label>\n                    <Col sm={10}>\n                        <Form.Control\n                            isInvalid={fields.isInvalid('password')}\n                            type=\"password\"\n                            placeholder=\"Enter password\"\n                            onChange={fields.set('password')} />\n                        \n                        {fields.isInvalid('password') && (\n                            <Form.Control.Feedback type=\"invalid\">\n                                {fields.getError('password')}\n                            </Form.Control.Feedback>\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Avatar</Form.Label>\n                    <Col sm={10}>\n                        <Form.File\n                            custom\n                            label=\"Upload an image\"\n                            onChange={({ target }) => setAvatar(target.files.item(0))} />\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Col sm={{ span: 10, offset: 2 }}>\n                        <Button variant=\"primary\" onClick={handleSubmit}>Sign Up</Button>\n                    </Col>\n                </Form.Group>\n            </Form>\n        </>\n    )\n}\n\nexport default SignUpPage","import Base from './Base'\n\nexport default class Tag extends Base\n{\n    get type() {\n        return 'tags'\n    }\n}","import apiRequest from '../utils/apiRequest'\nimport Base from './Base'\nimport Tag from './Tag'\n\nexport default class Post extends Base\n{\n    get type() {\n        return 'posts'\n    }\n\n    // Posts should immediately be associated with an author upon creation.\n    // Note that provided tags may not exist in the backend so they might have\n    // to be created on-the-fly.\n    create(author = null, tags = [], pets = []) {\n        const tagmap = {}\n\n        // The value in the tag map determines whether or not a tag exists\n        // in the backend.\n        for (const tag of tags) {\n            tagmap[tag] = false\n        }\n\n        return apiRequest('GET', `/tags?filter[text][in]=${tags.join(',')}`)\n            .then(res => res.json())\n            .then(res => res.data)\n            .then(data => {\n                const hydratedTags = []\n    \n                for (const resource of data) {\n                    const tag = new Tag(resource)\n                    tagmap[tag.getAttribute('text')] = true\n                    hydratedTags.push(tag)\n                }\n    \n                // Tags that were not returned from the query will still have\n                // their value set to false. Need to create them.\n                const newTags = tags.filter(tag => tagmap[tag] === false)\n    \n                // The API does not support creating entities in bulk.\n                // Need to make one request for each new tag.\n                if (newTags.length > 0) {\n                    return Promise\n                        .all(newTags.map(text => apiRequest('POST', '/tags', { type: 'tags', attributes: { text }})))\n                        .then(r => Promise.all(r.map(res => res.json()))) // Converting returned data to JSON returns a promise\n                        .then(r => r.map(({ data }) => new Tag(data)))\n                        .then(r => r.concat(hydratedTags))\n                } else {\n                    return hydratedTags\n                }\n            })\n            .then(tags => {\n                const r = {}\n                let c = 0\n    \n                if (author !== null) {\n                    r['author'] = { data: author.toResourceIdentifier() }\n                    c++\n                }\n    \n                if (pets.length > 0) {\n                    r['pets'] = { data: pets.map((id) => ({ type: 'pets', id })) }\n                    c++\n                }\n\n                if (tags.length > 0) {\n                    r['tags'] = { data: tags.map(tag => tag.toResourceIdentifier()) }\n                    c++\n                }\n    \n                return c > 0 ? r : null\n            })\n            .then(relationships => super.create(relationships))\n            .then(resource => this.hydrate(resource))\n    }\n}","import { useEffect, useState } from 'react'\n\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlus, faSpinner } from '@fortawesome/free-solid-svg-icons'\n\nimport uploadImage from '../utils/uploadImage'\nimport Post from '../Models/Post'\nimport BackButton from '../components/BackButton'\nimport apiRequest from '../utils/apiRequest'\n\n// TODO:    Add form validation\n//          Implement adding pets to posts, maybe with checkboxes\nfunction CreatePostPage({ author, onPostCreated }) {\n    const [title, setTitle] = useState('')\n    const [file, setFile] = useState(null)\n    const [text, setText] = useState('')\n    const [tags, setTags] = useState('')\n    const [pets, setPets] = useState([])\n    const [loading, setLoading] = useState(true)\n\n    useEffect(() => {\n        apiRequest('GET', `/users/${author.id}/pets`)\n            .then((res) => res.json())\n            .then((res) => res.data)\n            .then(({ data }) => {\n                setLoading(false)\n\n                setPets(data.map(({ id, attributes }) => ({\n                    id: id,\n                    image: attributes.image,\n                    name: attributes.name,\n                    isChecked: false\n                })))\n            })\n        \n        /*\n        setPets([\n            { id: '1', name: 'Bean', isChecked: true },\n            { id: '2', name: 'Charlie', isChecked: false },\n            { id: '3', name: 'Mr. Meow', isChecked: false },\n        ])\n\n        setLoading(false)\n        */\n    }, [setPets])\n    \n    const createPost = () => {\n        if (file === null) {\n            return\n        }\n\n        const tagList = tags.split(' ').map(t => t.trim().toLowerCase())\n        const petList = pets.map(({ id }) => ({\n            type: 'pets',\n            id\n        }))\n        \n        const makePostAndAddFields = (image) => (new Post())\n            .setAttribute('image', image)\n            .setAttribute('title', title)\n            .setAttribute('text', text)\n        \n        uploadImage(file)\n            .then(res => res.json())\n            .then(res => res.data)\n            .then(makePostAndAddFields)\n            .then(post => post.create(author, tagList, petList))\n            .then(onPostCreated)\n    }\n\n    const handlePetChange = (index) => () => setPets(items => {\n        items[index].isChecked = !items[index].isChecked\n\n        return items\n    })\n\n    return (\n        <>\n            <h1 className=\"mb-4\"><BackButton />Create Post</h1>\n\n            <Form>\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Title</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter post title\"\n                            onChange={({ target }) => setTitle(target.value)} />\n\n                        <Form.Control.Feedback type=\"invalid\">\n                            Title must be 6 characters or longer.\n                        </Form.Control.Feedback>\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Image</Form.Label>\n                    <Col sm={10}>\n                        <Form.File\n                            custom\n                            label=\"Upload an image\"\n                            onChange={({ target }) => setFile(target.files.item(0))} />\n\n                        <Form.Control.Feedback type=\"invalid\">\n                            A post image is required.\n                        </Form.Control.Feedback>\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Caption</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.Control\n                            as=\"textarea\"\n                            placeholder=\"Enter post caption\"\n                            onChange={({ target }) => setText(target.value)} />\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Tags</Form.Label>\n\n                    <Col sm={10}>\n                        <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter tags separated by a space\"\n                            onChange={({ target }) => setTags(target.value)} />\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Form.Label column sm={2}>Pets in this post</Form.Label>\n\n                    <Col sm={10}>\n                        {loading && (\n                            <FontAwesomeIcon className=\"my-3\" icon={faSpinner} pulse />\n                        )}\n\n                        {!loading && pets.map((pet, i) => (\n                            <Form.Check\n                                key={i}\n                                type=\"checkbox\"\n                                label={pet.name}\n                                defaultChecked={pet.isChecked}\n                                onChange={handlePetChange(i)} />\n                        ))}\n\n                        {!loading && pets.length === 0 && (\n                            <Form.Control plaintext readOnly defaultValue=\"You have no pets!\" />\n                        )}\n                    </Col>\n                </Form.Group>\n\n                <Form.Group as={Row}>\n                    <Col sm={{ span: 10, offset: 2 }}>\n                        <Button variant=\"primary\" onClick={createPost}>\n                            <FontAwesomeIcon icon={faPlus} className=\"mr-2\" />\n                            Create Post\n                        </Button>\n                    </Col>\n                </Form.Group>\n            </Form>\n        </>\n    )\n}\n\nexport default CreatePostPage","import { useState, useEffect } from 'react'\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    useHistory,\n    useRouteMatch,\n    Redirect\n} from 'react-router-dom'\n\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Card from 'react-bootstrap/Card'\nimport Table from 'react-bootstrap/Table'\nimport Button from 'react-bootstrap/Button'\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\nimport Nav from 'react-bootstrap/Nav'\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport Navbar from 'react-bootstrap/Navbar'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faBone, faCog, faSignInAlt, faSignOutAlt, faUser, faUserCircle } from '@fortawesome/free-solid-svg-icons'\n\nimport apiRequest from './utils/apiRequest'\nimport formatDate from './utils/formatDate'\nimport { session$ } from './context/SessionContext'\nimport SessionContext from './context/SessionContext'\nimport User from './Models/User'\n\nimport ExplorePage from './pages/dashboard/ExplorePage'\nimport PostPage from './pages/PostPage'\nimport SubscriptionsPage from './pages/dashboard/SubscriptionsPage'\nimport FavoritesPage from './pages/dashboard/FavoritesPage'\nimport SettingsPage from './pages/SettingsPage'\nimport SignInPage from './pages/SignInPage'\nimport SignUpPage from './pages/SignUpPage'\nimport CreatePostPage from './pages/CreatePostPage'\n\n// This part of the navigation bar shows if the user is not logged in.\nfunction Anonymous() {\n    const history = useHistory()\n\n    // Use history.push to programarically navigate to pages.\n    return (\n        <Nav className=\"ml-auto\">\n            <NavDropdown title={<FontAwesomeIcon icon={faUserCircle} size=\"2x\" />}>\n                <NavDropdown.Item onClick={() => history.push('/signin')}>\n                    <FontAwesomeIcon className=\"mr-2\" icon={faSignInAlt} /> Sign In\n                </NavDropdown.Item>\n\n                <NavDropdown.Item onClick={() => history.push('/signup')}>\n                    <FontAwesomeIcon className=\"mr-2\" icon={faUser} /> Sign Up\n                </NavDropdown.Item>\n            </NavDropdown>\n        </Nav>\n    )\n}\n\nfunction Authenticated({ session }) {\n    const history = useHistory()\n    const avatarStyle = {\n        borderRadius: '50%',\n        border: '1px solid #888',\n        width: '48px',\n        height: '48px'\n    }\n\n    console.log(session)\n\n    const avatar = session.user.getAttribute('avatar')\n        ? <img style={avatarStyle} src={session.user.getAttribute('avatar')} />\n        : <FontAwesomeIcon icon={faUserCircle} />\n    \n    // Navigate to the explore page on logout\n    const logout = () => apiRequest('DELETE', '/session')\n        .then(() => history.push('/'))\n\n    return (\n        <Nav className=\"ml-auto\">\n            <NavDropdown className=\"text-center\" title={avatar}>\n                <NavDropdown.ItemText className=\"text-center\">\n                    {session.user.getAttribute('username')}\n                </NavDropdown.ItemText>\n\n                <NavDropdown.Divider />\n\n                <NavDropdown.Item as={Link} to=\"/settings\">\n                    <FontAwesomeIcon className=\"mr-2\" icon={faCog} />Settings\n                </NavDropdown.Item>\n\n                <NavDropdown.Item onClick={logout}>\n                    <FontAwesomeIcon className=\"mr-2\" icon={faSignOutAlt} />Sign Out\n                </NavDropdown.Item>\n            </NavDropdown>\n        </Nav>\n    )\n}\n\nfunction DashboardNav() {\n    const { url } = useRouteMatch()\n    const history = useHistory()\n    const prev = history.location.pathname.split('/').pop()\n    const pages = ['explore', 'subscriptions', 'favorites']\n    const [page, setPage] = useState(pages.includes(prev) ? prev : 'explore')\n\n    const goToPage = (p) => () => {\n        setPage(p)\n        history.replace(`${url}/${p}`)\n    }\n\n    return (\n        <ButtonGroup className=\"d-flex my-4\">\n            {pages.map((p, i) => (\n                <Button\n                    key={i}\n                    variant={p === page ? 'primary' : 'secondary'}\n                    onClick={goToPage(p)}>{`${p.charAt(0).toUpperCase()}${p.substr(1)}`}</Button>\n            ))}\n        </ButtonGroup>\n    )\n}\n\nfunction Dashboard() {\n    const { url } = useRouteMatch()\n\n    return (\n        <>\n            {/*session ? <DashboardNav /> : null*/}\n\n            <Switch>\n                <Route path={`${url}/explore`}>\n                    <ExplorePage />\n                </Route>\n\n                <Route path={`${url}/subscriptions`}>\n                    <SubscriptionsPage />\n                </Route>\n\n                <Route path={`${url}/favorites`}>\n                    <FavoritesPage />\n                </Route>\n\n                <Route path={`${url}/`}>\n                    <Redirect to={`${url}/explore`} />\n                </Route>\n            </Switch>\n        </>\n    )\n}\n\nfunction Main({ title }) {\n    /*\n    const mock = null\n    /*/\n    const mock = {\n        user: new User({\n            id: '1',\n            attributes: {\n                username: 'tgalinis2020',\n                firstName: 'Thomas',\n                lastName: 'Galinis',\n                email: 'tgalinis2020@fau.edu',\n                avatar: 'https://i.imgur.com/l3e1XuO.jpeg',\n            }\n        }),\n    \n        subscriptions: []\n    }\n    //*/\n\n    const history = useHistory()\n\n    // Component state is managed using the useState hook.\n    // Use the setSession function to update the session; don't try to mutate\n    // the session variable directly!\n    const sessionState = useState(mock)\n    const [session, setSession] = sessionState\n\n    const goToPostPage = ({ id }) => history.replace(`/post/${id}`)\n\n    // useEffect hooks into this component's lifecycle. When it is loaded, it\n    // runs the provided callback function. If another callback is provided\n    // within the callback function, it will run it when the component is\n    // unloaded. In other words, inner callback = setup, outer callback =\n    // teardown. The second argument to useEffect is a list of objects and\n    // functions in the scope of this component that are in use in the effect.\n    //\n    // In this case, we're listening to the session observable. If it's not\n    // unsubscribed from when the component is not in use, a memory leak can\n    // occur.\n    useEffect(() => {\n        apiRequest('GET', '/session')\n            .then((res) => res.json())\n            .then((res) => res.data.uid)\n            .then((uid) => apiRequest('GET', `/users/${uid}`)\n            .then((res) => res.json())\n            .then((res) => new User(res.data)))\n            .then(setSession)\n            .catch((err) => console.log('Not logged in'))\n    }, [setSession])\n\n    // Since this app is served in a directory within the server, the basename\n    // for all routes must be specified.\n    return (\n        <SessionContext.Provider value={sessionState}>\n            <Router basename=\"/~cen4010_s21_g01/beta\">\n                <Navbar className=\"mb-4\" bg=\"dark\" variant=\"dark\" expand=\"lg\">\n                    <Container>\n                        <Navbar.Brand as={Link} to=\"/\">\n                            {title}<FontAwesomeIcon className=\"ml-2\" icon={faBone} />\n                        </Navbar.Brand>\n\n                        <Navbar.Toggle aria-controls=\"main-nav\" />\n                        \n                        <Navbar.Collapse id=\"main-nav\">\n                            {session ? <Authenticated session={session} /> : <Anonymous />}\n                        </Navbar.Collapse>\n                    </Container>\n                </Navbar>\n                \n                <Container>\n                    <Switch>\n                        <Route path=\"/dashboard\">\n                            <Dashboard />\n                        </Route>\n\n                        <Route path=\"/post/:id\">\n                            <PostPage />\n                        </Route>\n\n                        <Route path=\"/post\">\n                            <CreatePostPage author={session} onPostCreated={goToPostPage} />\n                        </Route>\n\n                        <Route path=\"/signin\">\n                            <SignInPage onSignedIn={setSession} />\n                        </Route>\n\n                        <Route path=\"/signup\">\n                            <SignUpPage onSignedUp={setSession} />\n                        </Route>\n\n                        <Route path=\"/settings\">\n                            <SettingsPage />\n                        </Route>\n\n                        <Route exact path=\"/\">\n                            <Redirect to=\"/dashboard\" />\n                        </Route>\n                    </Switch>\n                </Container>\n            </Router>\n        </SessionContext.Provider>\n    )\n}\n\nexport default Main\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Main from './Main'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nReactDOM.render(\n    <React.StrictMode>\n        <Main title=\"The Pet Park\" />\n    </React.StrictMode>,\n    \n    document.getElementById('root')\n)\n"],"sourceRoot":""}